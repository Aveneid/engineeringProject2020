<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Electronic lock with multilevel access control: espmain/espMain.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Electronic lock with multilevel access control
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('esp_main_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">espMain.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main NodeMcu file <br  />
Takes care of validating data entered by user <br  />
Stores cards data and passwords <br  />
Serves administrator panel via http over Wi-Fi <br  />
.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;LiquidCrystal_I2C.h&gt;</code><br />
<code>#include &lt;Wire.h&gt;</code><br />
<code>#include &lt;Adafruit_PN532.h&gt;</code><br />
<code>#include &lt;EEPROM.h&gt;</code><br />
<code>#include &quot;<a class="el" href="esppins_8h_source.html">esppins.h</a>&quot;</code><br />
<code>#include &lt;ESP8266WebServer.h&gt;</code><br />
<code>#include &lt;pgmspace.h&gt;</code><br />
<code>#include &lt;ESP8266WiFi.h&gt;</code><br />
<code>#include &lt;SoftwareSerial.h&gt;</code><br />
</div>
<p><a href="esp_main_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4f4a4732642475b5a21c0a1a8c2ed4b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a4f4a4732642475b5a21c0a1a8c2ed4b2">FIRSTRUN</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a4f4a4732642475b5a21c0a1a8c2ed4b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of first run flag stored in EEPROM.  <a href="esp_main_8cpp.html#a4f4a4732642475b5a21c0a1a8c2ed4b2">More...</a><br /></td></tr>
<tr class="separator:a4f4a4732642475b5a21c0a1a8c2ed4b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9477fc87b3bc318cbb565aa2d693a33"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#ad9477fc87b3bc318cbb565aa2d693a33">ADMINPASS</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ad9477fc87b3bc318cbb565aa2d693a33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of admin password address stored in EEPROM.  <a href="esp_main_8cpp.html#ad9477fc87b3bc318cbb565aa2d693a33">More...</a><br /></td></tr>
<tr class="separator:ad9477fc87b3bc318cbb565aa2d693a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a23bceef583febf4ea0b4530553df4a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a1a23bceef583febf4ea0b4530553df4a">NFCENABLED</a>&#160;&#160;&#160;9</td></tr>
<tr class="memdesc:a1a23bceef583febf4ea0b4530553df4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of NFC enabled fla, stored in EEPROM.  <a href="esp_main_8cpp.html#a1a23bceef583febf4ea0b4530553df4a">More...</a><br /></td></tr>
<tr class="separator:a1a23bceef583febf4ea0b4530553df4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39bf5834616a3adabbb1bf784ab567f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a39bf5834616a3adabbb1bf784ab567f0">PASSENABLED</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:a39bf5834616a3adabbb1bf784ab567f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of password enabled flag stored in EEPROM.  <a href="esp_main_8cpp.html#a39bf5834616a3adabbb1bf784ab567f0">More...</a><br /></td></tr>
<tr class="separator:a39bf5834616a3adabbb1bf784ab567f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1f79f6ad050ef88ccc89c4915c2e1a3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#ae1f79f6ad050ef88ccc89c4915c2e1a3">SCANNERENABLED</a>&#160;&#160;&#160;12</td></tr>
<tr class="memdesc:ae1f79f6ad050ef88ccc89c4915c2e1a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of scanner enabled flag stored in EEPROM.  <a href="esp_main_8cpp.html#ae1f79f6ad050ef88ccc89c4915c2e1a3">More...</a><br /></td></tr>
<tr class="separator:ae1f79f6ad050ef88ccc89c4915c2e1a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79a73bb2ba87b67c000cb44ae5cc8461"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a79a73bb2ba87b67c000cb44ae5cc8461">PINCODE</a>&#160;&#160;&#160;12</td></tr>
<tr class="memdesc:a79a73bb2ba87b67c000cb44ae5cc8461"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of pin code value stored in EEPROM.  <a href="esp_main_8cpp.html#a79a73bb2ba87b67c000cb44ae5cc8461">More...</a><br /></td></tr>
<tr class="separator:a79a73bb2ba87b67c000cb44ae5cc8461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbf5c1cecea9d1c02fab359975314812"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#adbf5c1cecea9d1c02fab359975314812">MASTERCARDID</a>&#160;&#160;&#160;20</td></tr>
<tr class="memdesc:adbf5c1cecea9d1c02fab359975314812"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of Master card ID stored in EEPROM.  <a href="esp_main_8cpp.html#adbf5c1cecea9d1c02fab359975314812">More...</a><br /></td></tr>
<tr class="separator:adbf5c1cecea9d1c02fab359975314812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a4a2f4e5b76007972bc9056290a66d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a2a4a2f4e5b76007972bc9056290a66d8">LOCKTIME</a>&#160;&#160;&#160;24</td></tr>
<tr class="memdesc:a2a4a2f4e5b76007972bc9056290a66d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of lock time in minutes stored in EEPROM.  <a href="esp_main_8cpp.html#a2a4a2f4e5b76007972bc9056290a66d8">More...</a><br /></td></tr>
<tr class="separator:a2a4a2f4e5b76007972bc9056290a66d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46b3161d72445324482d5768e9d440ef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a46b3161d72445324482d5768e9d440ef">USERCARDSCOUNT</a>&#160;&#160;&#160;25</td></tr>
<tr class="memdesc:a46b3161d72445324482d5768e9d440ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of count of reconized user cards stored in EEPROM.  <a href="esp_main_8cpp.html#a46b3161d72445324482d5768e9d440ef">More...</a><br /></td></tr>
<tr class="separator:a46b3161d72445324482d5768e9d440ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afff112f83aa99ca2339e4e808cb34bc0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#afff112f83aa99ca2339e4e808cb34bc0">USERCARDS</a>&#160;&#160;&#160;26</td></tr>
<tr class="memdesc:afff112f83aa99ca2339e4e808cb34bc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of beginning of user cards data stored in EEPROM.  <a href="esp_main_8cpp.html#afff112f83aa99ca2339e4e808cb34bc0">More...</a><br /></td></tr>
<tr class="separator:afff112f83aa99ca2339e4e808cb34bc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec78e7a9e90a406a56f859ee456e8eae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a>&#160;&#160;&#160;<a class="el" href="esppins_8h.html#a2ddd4183d444d6d128cbdbd6269e4e0c">D5</a></td></tr>
<tr class="memdesc:aec78e7a9e90a406a56f859ee456e8eae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pin definition, will be pulled HIGH if access is granted.  <a href="esp_main_8cpp.html#aec78e7a9e90a406a56f859ee456e8eae">More...</a><br /></td></tr>
<tr class="separator:aec78e7a9e90a406a56f859ee456e8eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b04e074b3b19739586edb1f826f6c63"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a5b04e074b3b19739586edb1f826f6c63">CARDSIZE</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:a5b04e074b3b19739586edb1f826f6c63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of card in bytes.  <a href="esp_main_8cpp.html#a5b04e074b3b19739586edb1f826f6c63">More...</a><br /></td></tr>
<tr class="separator:a5b04e074b3b19739586edb1f826f6c63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae084e1bc8ccb35ea289ba0ca4972ea6d"><td class="memItemLeft" align="right" valign="top">LiquidCrystal_I2C&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#ae084e1bc8ccb35ea289ba0ca4972ea6d">lcd</a> (0x27, 16, 2)</td></tr>
<tr class="memdesc:ae084e1bc8ccb35ea289ba0ca4972ea6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance of LCD class, used to drive LCD display.  <a href="esp_main_8cpp.html#ae084e1bc8ccb35ea289ba0ca4972ea6d">More...</a><br /></td></tr>
<tr class="separator:ae084e1bc8ccb35ea289ba0ca4972ea6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58141c4f251beaa1fee89b632d87152f"><td class="memItemLeft" align="right" valign="top">ESP8266WebServer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a58141c4f251beaa1fee89b632d87152f">server</a> (80)</td></tr>
<tr class="memdesc:a58141c4f251beaa1fee89b632d87152f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance of ESP8266WebServer class, used for administrator panel.  <a href="esp_main_8cpp.html#a58141c4f251beaa1fee89b632d87152f">More...</a><br /></td></tr>
<tr class="separator:a58141c4f251beaa1fee89b632d87152f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d32936782148258b6ead0b4f659696e"><td class="memItemLeft" align="right" valign="top">SoftwareSerial&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a8d32936782148258b6ead0b4f659696e">bs</a> (<a class="el" href="esppins_8h.html#a2ba78f059a7ebebc95e7beef690e88d6">D7</a>, 50)</td></tr>
<tr class="memdesc:a8d32936782148258b6ead0b4f659696e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance of SoftwareSerial class, used for keyboard communication.  <a href="esp_main_8cpp.html#a8d32936782148258b6ead0b4f659696e">More...</a><br /></td></tr>
<tr class="separator:a8d32936782148258b6ead0b4f659696e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f9c6f905d1dcd952bff709aeac33026"><td class="memItemLeft" align="right" valign="top">Adafruit_PN532&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a3f9c6f905d1dcd952bff709aeac33026">nfc</a> (<a class="el" href="esppins_8h.html#a9711ce54c7a380964a5b4dbac7da12e2">D8</a>, <a class="el" href="esppins_8h.html#a79a18a7f5ccf7a7ca31f302bd62527a6">D6</a>)</td></tr>
<tr class="memdesc:a3f9c6f905d1dcd952bff709aeac33026"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance of Adafruit_PN532 class, used for driving RFID module.  <a href="esp_main_8cpp.html#a3f9c6f905d1dcd952bff709aeac33026">More...</a><br /></td></tr>
<tr class="separator:a3f9c6f905d1dcd952bff709aeac33026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b9dd166f68695ebf79df00dc7621a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#ac6b9dd166f68695ebf79df00dc7621a2">blk</a> ()</td></tr>
<tr class="memdesc:ac6b9dd166f68695ebf79df00dc7621a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switches display background for short period of time.  <a href="esp_main_8cpp.html#ac6b9dd166f68695ebf79df00dc7621a2">More...</a><br /></td></tr>
<tr class="separator:ac6b9dd166f68695ebf79df00dc7621a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8de469820adb093cbd4e30c1017467e8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a8de469820adb093cbd4e30c1017467e8">arrcmp</a> (uint8_t a[4], uint8_t b[4])</td></tr>
<tr class="memdesc:a8de469820adb093cbd4e30c1017467e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares two arrays of uint8_t type.  <a href="esp_main_8cpp.html#a8de469820adb093cbd4e30c1017467e8">More...</a><br /></td></tr>
<tr class="separator:a8de469820adb093cbd4e30c1017467e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd4e5c937c4b98dd42745acb33815cdf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#abd4e5c937c4b98dd42745acb33815cdf">clearData</a> ()</td></tr>
<tr class="memdesc:abd4e5c937c4b98dd42745acb33815cdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs EEPROM clear and fill with default values.  <a href="esp_main_8cpp.html#abd4e5c937c4b98dd42745acb33815cdf">More...</a><br /></td></tr>
<tr class="separator:abd4e5c937c4b98dd42745acb33815cdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef8641731cb6a821e44f8ff6b362a857"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#aef8641731cb6a821e44f8ff6b362a857">addDeleteCard</a> (uint8_t a[4])</td></tr>
<tr class="memdesc:aef8641731cb6a821e44f8ff6b362a857"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to find given as parameter card in EEPROM<br  />
.  <a href="esp_main_8cpp.html#aef8641731cb6a821e44f8ff6b362a857">More...</a><br /></td></tr>
<tr class="separator:aef8641731cb6a821e44f8ff6b362a857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace53b0ca7082fc33a480c32996449ccb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#ace53b0ca7082fc33a480c32996449ccb">findCard</a> (uint8_t a[4])</td></tr>
<tr class="memdesc:ace53b0ca7082fc33a480c32996449ccb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if scanned card is known<br  />
.  <a href="esp_main_8cpp.html#ace53b0ca7082fc33a480c32996449ccb">More...</a><br /></td></tr>
<tr class="separator:ace53b0ca7082fc33a480c32996449ccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37aefd83c7026936272e56f60431543e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a37aefd83c7026936272e56f60431543e">checkPass</a> (String pass)</td></tr>
<tr class="memdesc:a37aefd83c7026936272e56f60431543e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if given given password is correct<br  />
.  <a href="esp_main_8cpp.html#a37aefd83c7026936272e56f60431543e">More...</a><br /></td></tr>
<tr class="separator:a37aefd83c7026936272e56f60431543e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a50f3e2249e3243752571912b87eb97"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a0a50f3e2249e3243752571912b87eb97">accessGranted</a> ()</td></tr>
<tr class="memdesc:a0a50f3e2249e3243752571912b87eb97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that grants access to protected zone when called.  <a href="esp_main_8cpp.html#a0a50f3e2249e3243752571912b87eb97">More...</a><br /></td></tr>
<tr class="separator:a0a50f3e2249e3243752571912b87eb97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60ade2b254782a09199c5486752ee98d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a60ade2b254782a09199c5486752ee98d">accessDenied</a> ()</td></tr>
<tr class="memdesc:a60ade2b254782a09199c5486752ee98d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that refuses access to protected zone when called.  <a href="esp_main_8cpp.html#a60ade2b254782a09199c5486752ee98d">More...</a><br /></td></tr>
<tr class="separator:a60ade2b254782a09199c5486752ee98d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a861e3823eb1f21ac46bf46cb52b63f21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a861e3823eb1f21ac46bf46cb52b63f21">firstRunConfig</a> ()</td></tr>
<tr class="memdesc:a861e3823eb1f21ac46bf46cb52b63f21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that provides <code>first run config</code> for owner / administrator <br  />
 Triggered by hardware button.  <a href="esp_main_8cpp.html#a861e3823eb1f21ac46bf46cb52b63f21">More...</a><br /></td></tr>
<tr class="separator:a861e3823eb1f21ac46bf46cb52b63f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe175b2028d177e1d6799f3823812a36"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#abe175b2028d177e1d6799f3823812a36">auth</a> ()</td></tr>
<tr class="memdesc:abe175b2028d177e1d6799f3823812a36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that handles user authentication via WWW <br  />
.  <a href="esp_main_8cpp.html#abe175b2028d177e1d6799f3823812a36">More...</a><br /></td></tr>
<tr class="separator:abe175b2028d177e1d6799f3823812a36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54f2b176a577c7a89bb94da4f12cd06b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a54f2b176a577c7a89bb94da4f12cd06b">handleNotFound</a> ()</td></tr>
<tr class="memdesc:a54f2b176a577c7a89bb94da4f12cd06b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that handles 404 error on server, applies when someone want to acces file (or path) that is not found.  <a href="esp_main_8cpp.html#a54f2b176a577c7a89bb94da4f12cd06b">More...</a><br /></td></tr>
<tr class="separator:a54f2b176a577c7a89bb94da4f12cd06b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a002b81f5218fb07fc2683986508b6a5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a002b81f5218fb07fc2683986508b6a5c">changePass</a> ()</td></tr>
<tr class="memdesc:a002b81f5218fb07fc2683986508b6a5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that handles admin password change for administrator panel via WWW, works only if user is admin.  <a href="esp_main_8cpp.html#a002b81f5218fb07fc2683986508b6a5c">More...</a><br /></td></tr>
<tr class="separator:a002b81f5218fb07fc2683986508b6a5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4307affbe0bbfb62bc80dd2ad91f489"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#ab4307affbe0bbfb62bc80dd2ad91f489">changePin</a> ()</td></tr>
<tr class="memdesc:ab4307affbe0bbfb62bc80dd2ad91f489"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that changes access pin code, works only if user is admin <br  />
  <a href="esp_main_8cpp.html#ab4307affbe0bbfb62bc80dd2ad91f489">More...</a><br /></td></tr>
<tr class="separator:ab4307affbe0bbfb62bc80dd2ad91f489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a045cd6579bf9a26fe79a930a8bc1ba0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a045cd6579bf9a26fe79a930a8bc1ba0d">changeLockTime</a> ()</td></tr>
<tr class="memdesc:a045cd6579bf9a26fe79a930a8bc1ba0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that changes lock time(in minutes), works only if user is admin.  <a href="esp_main_8cpp.html#a045cd6579bf9a26fe79a930a8bc1ba0d">More...</a><br /></td></tr>
<tr class="separator:a045cd6579bf9a26fe79a930a8bc1ba0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8427468f39342a1990703e9f5ce7fd29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a8427468f39342a1990703e9f5ce7fd29">handleRoot</a> ()</td></tr>
<tr class="memdesc:a8427468f39342a1990703e9f5ce7fd29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that handles main index file via WWW, prompts for password, if correct will redirect to admin panel <br  />
  <a href="esp_main_8cpp.html#a8427468f39342a1990703e9f5ce7fd29">More...</a><br /></td></tr>
<tr class="separator:a8427468f39342a1990703e9f5ce7fd29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42485aec8674a8641acef7bf90c6791c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a42485aec8674a8641acef7bf90c6791c">dumpCards</a> ()</td></tr>
<tr class="memdesc:a42485aec8674a8641acef7bf90c6791c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that dumps all saved cards to Serial port.  <a href="esp_main_8cpp.html#a42485aec8674a8641acef7bf90c6791c">More...</a><br /></td></tr>
<tr class="separator:a42485aec8674a8641acef7bf90c6791c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13120ea5788aaacf44a89b193a0cceef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a13120ea5788aaacf44a89b193a0cceef">del</a> ()</td></tr>
<tr class="memdesc:a13120ea5788aaacf44a89b193a0cceef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that delete card from storage if card is present, works only if user is admin.  <a href="esp_main_8cpp.html#a13120ea5788aaacf44a89b193a0cceef">More...</a><br /></td></tr>
<tr class="separator:a13120ea5788aaacf44a89b193a0cceef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af76b7b46958dabf5e4ee9a492f0ec3fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#af76b7b46958dabf5e4ee9a492f0ec3fa">login</a> ()</td></tr>
<tr class="memdesc:af76b7b46958dabf5e4ee9a492f0ec3fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that handles admin panel login<br  />
 Redirects to admin panel if login was successful.  <a href="esp_main_8cpp.html#af76b7b46958dabf5e4ee9a492f0ec3fa">More...</a><br /></td></tr>
<tr class="separator:af76b7b46958dabf5e4ee9a492f0ec3fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b2b4794d662937937667bfe4b73fbd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a2b2b4794d662937937667bfe4b73fbd9">toggleNFC</a> ()</td></tr>
<tr class="memdesc:a2b2b4794d662937937667bfe4b73fbd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that toggles NFC from http request, works only if user is admin.  <a href="esp_main_8cpp.html#a2b2b4794d662937937667bfe4b73fbd9">More...</a><br /></td></tr>
<tr class="separator:a2b2b4794d662937937667bfe4b73fbd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa16e0df179df0f736e6adaaf59e50a2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#aa16e0df179df0f736e6adaaf59e50a2f">togglePIN</a> ()</td></tr>
<tr class="memdesc:aa16e0df179df0f736e6adaaf59e50a2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that toggles pin code from http request, works only if user is admin.  <a href="esp_main_8cpp.html#aa16e0df179df0f736e6adaaf59e50a2f">More...</a><br /></td></tr>
<tr class="separator:aa16e0df179df0f736e6adaaf59e50a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b383934d7a19716d80cdbc9cef1d939"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a0b383934d7a19716d80cdbc9cef1d939">toggleScanner</a> ()</td></tr>
<tr class="memdesc:a0b383934d7a19716d80cdbc9cef1d939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funciton that toggles scanner from http request, works only if user is admin.  <a href="esp_main_8cpp.html#a0b383934d7a19716d80cdbc9cef1d939">More...</a><br /></td></tr>
<tr class="separator:a0b383934d7a19716d80cdbc9cef1d939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afae9461fefb7a9040ae40721723a63af"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#afae9461fefb7a9040ae40721723a63af">h2i</a> (String d)</td></tr>
<tr class="memdesc:afae9461fefb7a9040ae40721723a63af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that converts string in HEX format<br  />
 for example: AC:3D:FF:A0 to its DEC format<br  />
 like: 172:61:255:160.  <a href="esp_main_8cpp.html#afae9461fefb7a9040ae40721723a63af">More...</a><br /></td></tr>
<tr class="separator:afae9461fefb7a9040ae40721723a63af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a935aa29c9921acef08e3b131eb4fd5e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a935aa29c9921acef08e3b131eb4fd5e6">barcodeCheck</a> (String code)</td></tr>
<tr class="memdesc:a935aa29c9921acef08e3b131eb4fd5e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that handles barcode scanner code check <br  />
 Grants or denies access to protected zone regarding to <a class="el" href="esp_main_8cpp.html#a8de469820adb093cbd4e30c1017467e8" title="Compares two arrays of uint8_t type.">arrcmp()</a> return value.  <a href="esp_main_8cpp.html#a935aa29c9921acef08e3b131eb4fd5e6">More...</a><br /></td></tr>
<tr class="separator:a935aa29c9921acef08e3b131eb4fd5e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="memdesc:a4fc01d736fe50cf5b977f755b675f11d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main setup function<br  />
 Sets parameters for class objects, connects to Wi-Fi<br  />
 Reads data from EEPROM to RAM.  <a href="esp_main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d">More...</a><br /></td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#afe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="memdesc:afe461d27b9c48d5921c00d521181f12f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main loop function<br  />
 Provides control for RFID reader <br  />
 password entry, admin access and others.  <a href="esp_main_8cpp.html#afe461d27b9c48d5921c00d521181f12f">More...</a><br /></td></tr>
<tr class="separator:afe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5522305c1de4f07a6c6feb7275863f8f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a5522305c1de4f07a6c6feb7275863f8f">tries</a> = 0</td></tr>
<tr class="memdesc:a5522305c1de4f07a6c6feb7275863f8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter for tries, if entered data is incorrect, it will increment by 1.  <a href="esp_main_8cpp.html#a5522305c1de4f07a6c6feb7275863f8f">More...</a><br /></td></tr>
<tr class="separator:a5522305c1de4f07a6c6feb7275863f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6d77325c24fc3cc936e5b158fc728a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#ae6d77325c24fc3cc936e5b158fc728a8">locktime</a> = 5</td></tr>
<tr class="memdesc:ae6d77325c24fc3cc936e5b158fc728a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current lock time (in minutes)  <a href="esp_main_8cpp.html#ae6d77325c24fc3cc936e5b158fc728a8">More...</a><br /></td></tr>
<tr class="separator:ae6d77325c24fc3cc936e5b158fc728a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68b7079790a59184d8dad88a7b785d1d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a68b7079790a59184d8dad88a7b785d1d">cfg</a> [3]</td></tr>
<tr class="memdesc:a68b7079790a59184d8dad88a7b785d1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Feature flags, each one is for NFC, password and barcode scanner respectively.  <a href="esp_main_8cpp.html#a68b7079790a59184d8dad88a7b785d1d">More...</a><br /></td></tr>
<tr class="separator:a68b7079790a59184d8dad88a7b785d1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f9000ade72a94e56e8754c80e3277e4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a4f9000ade72a94e56e8754c80e3277e4">MasterAccess</a> = false</td></tr>
<tr class="memdesc:a4f9000ade72a94e56e8754c80e3277e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag for master access, filps when master card was readed.  <a href="esp_main_8cpp.html#a4f9000ade72a94e56e8754c80e3277e4">More...</a><br /></td></tr>
<tr class="separator:a4f9000ade72a94e56e8754c80e3277e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb056f61dd84394f3fbce0ae57e3a9f8"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#adb056f61dd84394f3fbce0ae57e3a9f8">MasterID</a> [4]</td></tr>
<tr class="memdesc:adb056f61dd84394f3fbce0ae57e3a9f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Master card ID - to prevent future reads from EEPROM to save some time and power.  <a href="esp_main_8cpp.html#adb056f61dd84394f3fbce0ae57e3a9f8">More...</a><br /></td></tr>
<tr class="separator:adb056f61dd84394f3fbce0ae57e3a9f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57839e9b66863b4b735047218e335bb4"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a57839e9b66863b4b735047218e335bb4">t2</a></td></tr>
<tr class="memdesc:a57839e9b66863b4b735047218e335bb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter for card scanner.  <a href="esp_main_8cpp.html#a57839e9b66863b4b735047218e335bb4">More...</a><br /></td></tr>
<tr class="separator:a57839e9b66863b4b735047218e335bb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a200e606a81c42adc2761ce417ec683be"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a200e606a81c42adc2761ce417ec683be">retryTimer</a></td></tr>
<tr class="memdesc:a200e606a81c42adc2761ce417ec683be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable for timing.  <a href="esp_main_8cpp.html#a200e606a81c42adc2761ce417ec683be">More...</a><br /></td></tr>
<tr class="separator:a200e606a81c42adc2761ce417ec683be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44c5e0b2c9685d0004d76cd89b851b21"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a44c5e0b2c9685d0004d76cd89b851b21">curMilis</a></td></tr>
<tr class="memdesc:a44c5e0b2c9685d0004d76cd89b851b21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable for timing.  <a href="esp_main_8cpp.html#a44c5e0b2c9685d0004d76cd89b851b21">More...</a><br /></td></tr>
<tr class="separator:a44c5e0b2c9685d0004d76cd89b851b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27c4560b1c293b674da26db67188d836"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a27c4560b1c293b674da26db67188d836">retryTimerSeconds</a> = 0</td></tr>
<tr class="memdesc:a27c4560b1c293b674da26db67188d836"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter that count how many seconds pass when lock triggered.  <a href="esp_main_8cpp.html#a27c4560b1c293b674da26db67188d836">More...</a><br /></td></tr>
<tr class="separator:a27c4560b1c293b674da26db67188d836"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a532ddf10106a8db0dcc3356428fcf4d2"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#a532ddf10106a8db0dcc3356428fcf4d2">uid</a> [4]</td></tr>
<tr class="memdesc:a532ddf10106a8db0dcc3356428fcf4d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Card data - used when new card is present and scanned.  <a href="esp_main_8cpp.html#a532ddf10106a8db0dcc3356428fcf4d2">More...</a><br /></td></tr>
<tr class="separator:a532ddf10106a8db0dcc3356428fcf4d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed2a08e1fa3bcb2dd04d19553a1df51c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#aed2a08e1fa3bcb2dd04d19553a1df51c">uidLen</a></td></tr>
<tr class="separator:aed2a08e1fa3bcb2dd04d19553a1df51c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbd76b816d055b7a642c219fd9751020"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#acbd76b816d055b7a642c219fd9751020">password</a> = &quot;&quot;</td></tr>
<tr class="memdesc:acbd76b816d055b7a642c219fd9751020"><td class="mdescLeft">&#160;</td><td class="mdescRight">Password holder.  <a href="esp_main_8cpp.html#acbd76b816d055b7a642c219fd9751020">More...</a><br /></td></tr>
<tr class="separator:acbd76b816d055b7a642c219fd9751020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc08ed1554f35803d229aeaf11216b3f"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a></td></tr>
<tr class="memdesc:adc08ed1554f35803d229aeaf11216b3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Incoming character holder.  <a href="esp_main_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">More...</a><br /></td></tr>
<tr class="separator:adc08ed1554f35803d229aeaf11216b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3f465af0f3796a4ed8db4d37d78dc82"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp_main_8cpp.html#ac3f465af0f3796a4ed8db4d37d78dc82">barcode</a> = &quot;&quot;</td></tr>
<tr class="memdesc:ac3f465af0f3796a4ed8db4d37d78dc82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Barcode holder - used when new barcode was readed.  <a href="esp_main_8cpp.html#ac3f465af0f3796a4ed8db4d37d78dc82">More...</a><br /></td></tr>
<tr class="separator:ac3f465af0f3796a4ed8db4d37d78dc82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main NodeMcu file <br  />
Takes care of validating data entered by user <br  />
Stores cards data and passwords <br  />
Serves administrator panel via http over Wi-Fi <br  />
. </p>
<dl class="section author"><dt>Author</dt><dd>Bartlomiej Ferenc, Tomasz Kaczmarczyk </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2020-03-31 Copyright (c) 2020 Bartlomiej Ferenc (github.com/Aveneid) &amp; Tomasz Kaczmarczyk (github.com/Egeneza151) </dd></dl>

<p class="definition">Definition in file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad9477fc87b3bc318cbb565aa2d693a33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9477fc87b3bc318cbb565aa2d693a33">&#9670;&nbsp;</a></span>ADMINPASS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADMINPASS&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address of admin password address stored in EEPROM. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00049">49</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a5b04e074b3b19739586edb1f826f6c63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b04e074b3b19739586edb1f826f6c63">&#9670;&nbsp;</a></span>CARDSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CARDSIZE&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of card in bytes. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00069">69</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a4f4a4732642475b5a21c0a1a8c2ed4b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f4a4732642475b5a21c0a1a8c2ed4b2">&#9670;&nbsp;</a></span>FIRSTRUN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FIRSTRUN&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address of first run flag stored in EEPROM. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00047">47</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a2a4a2f4e5b76007972bc9056290a66d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a4a2f4e5b76007972bc9056290a66d8">&#9670;&nbsp;</a></span>LOCKTIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOCKTIME&#160;&#160;&#160;24</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address of lock time in minutes stored in EEPROM. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00061">61</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="adbf5c1cecea9d1c02fab359975314812"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbf5c1cecea9d1c02fab359975314812">&#9670;&nbsp;</a></span>MASTERCARDID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MASTERCARDID&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address of Master card ID stored in EEPROM. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00059">59</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a1a23bceef583febf4ea0b4530553df4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a23bceef583febf4ea0b4530553df4a">&#9670;&nbsp;</a></span>NFCENABLED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NFCENABLED&#160;&#160;&#160;9</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address of NFC enabled fla, stored in EEPROM. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00051">51</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="aec78e7a9e90a406a56f859ee456e8eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec78e7a9e90a406a56f859ee456e8eae">&#9670;&nbsp;</a></span>OUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OUT&#160;&#160;&#160;<a class="el" href="esppins_8h.html#a2ddd4183d444d6d128cbdbd6269e4e0c">D5</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pin definition, will be pulled HIGH if access is granted. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00067">67</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a39bf5834616a3adabbb1bf784ab567f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39bf5834616a3adabbb1bf784ab567f0">&#9670;&nbsp;</a></span>PASSENABLED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PASSENABLED&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address of password enabled flag stored in EEPROM. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00053">53</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a79a73bb2ba87b67c000cb44ae5cc8461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79a73bb2ba87b67c000cb44ae5cc8461">&#9670;&nbsp;</a></span>PINCODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINCODE&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address of pin code value stored in EEPROM. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00057">57</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="ae1f79f6ad050ef88ccc89c4915c2e1a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1f79f6ad050ef88ccc89c4915c2e1a3">&#9670;&nbsp;</a></span>SCANNERENABLED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCANNERENABLED&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address of scanner enabled flag stored in EEPROM. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00055">55</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="afff112f83aa99ca2339e4e808cb34bc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afff112f83aa99ca2339e4e808cb34bc0">&#9670;&nbsp;</a></span>USERCARDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USERCARDS&#160;&#160;&#160;26</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address of beginning of user cards data stored in EEPROM. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00065">65</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a46b3161d72445324482d5768e9d440ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46b3161d72445324482d5768e9d440ef">&#9670;&nbsp;</a></span>USERCARDSCOUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USERCARDSCOUNT&#160;&#160;&#160;25</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Address of count of reconized user cards stored in EEPROM. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00063">63</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a60ade2b254782a09199c5486752ee98d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60ade2b254782a09199c5486752ee98d">&#9670;&nbsp;</a></span>accessDenied()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void accessDenied </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that refuses access to protected zone when called. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00305">305</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a0a50f3e2249e3243752571912b87eb97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a50f3e2249e3243752571912b87eb97">&#9670;&nbsp;</a></span>accessGranted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void accessGranted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that grants access to protected zone when called. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00285">285</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="aef8641731cb6a821e44f8ff6b362a857"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef8641731cb6a821e44f8ff6b362a857">&#9670;&nbsp;</a></span>addDeleteCard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool addDeleteCard </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>a</em>[4]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tries to find given as parameter card in EEPROM<br  />
. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>array - card data - to add or delete </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if card found and deleted <br  />
 false if card not found and added </dd></dl>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00192">192</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a8de469820adb093cbd4e30c1017467e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8de469820adb093cbd4e30c1017467e8">&#9670;&nbsp;</a></span>arrcmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool arrcmp </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>a</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>b</em>[4]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compares two arrays of uint8_t type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>first array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>second array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if arrays are the same </dd>
<dd>
false if arrays are different </dd></dl>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00160">160</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="abe175b2028d177e1d6799f3823812a36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe175b2028d177e1d6799f3823812a36">&#9670;&nbsp;</a></span>auth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool auth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that handles user authentication via WWW <br  />
. </p>
<dl class="section return"><dt>Returns</dt><dd>true if specific cookie is set <br  />
 </dd>
<dd>
false if not </dd></dl>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00396">396</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a935aa29c9921acef08e3b131eb4fd5e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a935aa29c9921acef08e3b131eb4fd5e6">&#9670;&nbsp;</a></span>barcodeCheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void barcodeCheck </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that handles barcode scanner code check <br  />
 Grants or denies access to protected zone regarding to <a class="el" href="esp_main_8cpp.html#a8de469820adb093cbd4e30c1017467e8" title="Compares two arrays of uint8_t type.">arrcmp()</a> return value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>String in format aa:bb:cc:dd where aa,bb,cc,dd in range of 00-FF </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00678">678</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="ac6b9dd166f68695ebf79df00dc7621a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6b9dd166f68695ebf79df00dc7621a2">&#9670;&nbsp;</a></span>blk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void blk </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switches display background for short period of time. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00144">144</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a8d32936782148258b6ead0b4f659696e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d32936782148258b6ead0b4f659696e">&#9670;&nbsp;</a></span>bs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SoftwareSerial bs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="esppins_8h.html#a2ba78f059a7ebebc95e7beef690e88d6">D7</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">50&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Instance of SoftwareSerial class, used for keyboard communication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">D7</td><td>Receive pin </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">50</td><td>Transmit pin (not used) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a045cd6579bf9a26fe79a930a8bc1ba0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a045cd6579bf9a26fe79a930a8bc1ba0d">&#9670;&nbsp;</a></span>changeLockTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void changeLockTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that changes lock time(in minutes), works only if user is admin. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00460">460</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a002b81f5218fb07fc2683986508b6a5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a002b81f5218fb07fc2683986508b6a5c">&#9670;&nbsp;</a></span>changePass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void changePass </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that handles admin password change for administrator panel via WWW, works only if user is admin. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00418">418</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="ab4307affbe0bbfb62bc80dd2ad91f489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4307affbe0bbfb62bc80dd2ad91f489">&#9670;&nbsp;</a></span>changePin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void changePin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that changes access pin code, works only if user is admin <br  />
 </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00439">439</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a37aefd83c7026936272e56f60431543e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37aefd83c7026936272e56f60431543e">&#9670;&nbsp;</a></span>checkPass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkPass </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>pass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if given given password is correct<br  />
. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pass</td><td>Password to be checked </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if is valid </dd>
<dd>
false if is not valid </dd></dl>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00266">266</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="abd4e5c937c4b98dd42745acb33815cdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd4e5c937c4b98dd42745acb33815cdf">&#9670;&nbsp;</a></span>clearData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs EEPROM clear and fill with default values. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00170">170</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a13120ea5788aaacf44a89b193a0cceef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13120ea5788aaacf44a89b193a0cceef">&#9670;&nbsp;</a></span>del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void del </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that delete card from storage if card is present, works only if user is admin. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00529">529</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a42485aec8674a8641acef7bf90c6791c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42485aec8674a8641acef7bf90c6791c">&#9670;&nbsp;</a></span>dumpCards()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dumpCards </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that dumps all saved cards to Serial port. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00515">515</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="ace53b0ca7082fc33a480c32996449ccb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace53b0ca7082fc33a480c32996449ccb">&#9670;&nbsp;</a></span>findCard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool findCard </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>a</em>[4]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if scanned card is known<br  />
. </p>
<dl class="section return"><dt>Returns</dt><dd>true if known<br  />
 </dd>
<dd>
false if not </dd></dl>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00241">241</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a861e3823eb1f21ac46bf46cb52b63f21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a861e3823eb1f21ac46bf46cb52b63f21">&#9670;&nbsp;</a></span>firstRunConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void firstRunConfig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that provides <code>first run config</code> for owner / administrator <br  />
 Triggered by hardware button. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00331">331</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="afae9461fefb7a9040ae40721723a63af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afae9461fefb7a9040ae40721723a63af">&#9670;&nbsp;</a></span>h2i()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String h2i </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that converts string in HEX format<br  />
 for example: AC:3D:FF:A0 to its DEC format<br  />
 like: 172:61:255:160. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">d</td><td>valid HEX string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer representation of HEX values in string </dd></dl>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00662">662</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a54f2b176a577c7a89bb94da4f12cd06b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54f2b176a577c7a89bb94da4f12cd06b">&#9670;&nbsp;</a></span>handleNotFound()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handleNotFound </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that handles 404 error on server, applies when someone want to acces file (or path) that is not found. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00409">409</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a8427468f39342a1990703e9f5ce7fd29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8427468f39342a1990703e9f5ce7fd29">&#9670;&nbsp;</a></span>handleRoot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handleRoot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that handles main index file via WWW, prompts for password, if correct will redirect to admin panel <br  />
 </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00486">486</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="ae084e1bc8ccb35ea289ba0ca4972ea6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae084e1bc8ccb35ea289ba0ca4972ea6d">&#9670;&nbsp;</a></span>lcd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LiquidCrystal_I2C lcd </td>
          <td>(</td>
          <td class="paramtype">0x27&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">16&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">2&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Instance of LCD class, used to drive LCD display. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">0x27</td><td>Address of LCD in I2C bus </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">16</td><td>Number of columns </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">2</td><td>number of lines </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af76b7b46958dabf5e4ee9a492f0ec3fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af76b7b46958dabf5e4ee9a492f0ec3fa">&#9670;&nbsp;</a></span>login()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void login </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that handles admin panel login<br  />
 Redirects to admin panel if login was successful. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00581">581</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="afe461d27b9c48d5921c00d521181f12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe461d27b9c48d5921c00d521181f12f">&#9670;&nbsp;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main loop function<br  />
 Provides control for RFID reader <br  />
 password entry, admin access and others. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00792">792</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a3f9c6f905d1dcd952bff709aeac33026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f9c6f905d1dcd952bff709aeac33026">&#9670;&nbsp;</a></span>nfc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Adafruit_PN532 nfc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="esppins_8h.html#a9711ce54c7a380964a5b4dbac7da12e2">D8</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="esppins_8h.html#a79a18a7f5ccf7a7ca31f302bd62527a6">D6</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Instance of Adafruit_PN532 class, used for driving RFID module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">D8</td><td>RQ pin </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">D6</td><td>RST pin </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a58141c4f251beaa1fee89b632d87152f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58141c4f251beaa1fee89b632d87152f">&#9670;&nbsp;</a></span>server()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ESP8266WebServer server </td>
          <td>(</td>
          <td class="paramtype">80&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Instance of ESP8266WebServer class, used for administrator panel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">80</td><td>Port for webserver </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return description </dd></dl>

</div>
</div>
<a id="a4fc01d736fe50cf5b977f755b675f11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc01d736fe50cf5b977f755b675f11d">&#9670;&nbsp;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main setup function<br  />
 Sets parameters for class objects, connects to Wi-Fi<br  />
 Reads data from EEPROM to RAM. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00711">711</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a2b2b4794d662937937667bfe4b73fbd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b2b4794d662937937667bfe4b73fbd9">&#9670;&nbsp;</a></span>toggleNFC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void toggleNFC </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that toggles NFC from http request, works only if user is admin. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00614">614</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="aa16e0df179df0f736e6adaaf59e50a2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa16e0df179df0f736e6adaaf59e50a2f">&#9670;&nbsp;</a></span>togglePIN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void togglePIN </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that toggles pin code from http request, works only if user is admin. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00628">628</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a0b383934d7a19716d80cdbc9cef1d939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b383934d7a19716d80cdbc9cef1d939">&#9670;&nbsp;</a></span>toggleScanner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void toggleScanner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funciton that toggles scanner from http request, works only if user is admin. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00642">642</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac3f465af0f3796a4ed8db4d37d78dc82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3f465af0f3796a4ed8db4d37d78dc82">&#9670;&nbsp;</a></span>barcode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String barcode = &quot;&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Barcode holder - used when new barcode was readed. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00138">138</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="adc08ed1554f35803d229aeaf11216b3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc08ed1554f35803d229aeaf11216b3f">&#9670;&nbsp;</a></span>c</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char c</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Incoming character holder. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00136">136</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a68b7079790a59184d8dad88a7b785d1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68b7079790a59184d8dad88a7b785d1d">&#9670;&nbsp;</a></span>cfg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cfg[3]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Feature flags, each one is for NFC, password and barcode scanner respectively. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00113">113</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a44c5e0b2c9685d0004d76cd89b851b21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44c5e0b2c9685d0004d76cd89b851b21">&#9670;&nbsp;</a></span>curMilis</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long curMilis</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variable for timing. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00126">126</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="ae6d77325c24fc3cc936e5b158fc728a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6d77325c24fc3cc936e5b158fc728a8">&#9670;&nbsp;</a></span>locktime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int locktime = 5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current lock time (in minutes) </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00110">110</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a4f9000ade72a94e56e8754c80e3277e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f9000ade72a94e56e8754c80e3277e4">&#9670;&nbsp;</a></span>MasterAccess</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MasterAccess = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag for master access, filps when master card was readed. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00115">115</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="adb056f61dd84394f3fbce0ae57e3a9f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb056f61dd84394f3fbce0ae57e3a9f8">&#9670;&nbsp;</a></span>MasterID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t MasterID[4]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Master card ID - to prevent future reads from EEPROM to save some time and power. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00118">118</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="acbd76b816d055b7a642c219fd9751020"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbd76b816d055b7a642c219fd9751020">&#9670;&nbsp;</a></span>password</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String password = &quot;&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Password holder. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00134">134</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a200e606a81c42adc2761ce417ec683be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a200e606a81c42adc2761ce417ec683be">&#9670;&nbsp;</a></span>retryTimer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long retryTimer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variable for timing. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00124">124</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a27c4560b1c293b674da26db67188d836"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27c4560b1c293b674da26db67188d836">&#9670;&nbsp;</a></span>retryTimerSeconds</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int retryTimerSeconds = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Counter that count how many seconds pass when lock triggered. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00128">128</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a57839e9b66863b4b735047218e335bb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57839e9b66863b4b735047218e335bb4">&#9670;&nbsp;</a></span>t2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long t2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Counter for card scanner. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00121">121</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a5522305c1de4f07a6c6feb7275863f8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5522305c1de4f07a6c6feb7275863f8f">&#9670;&nbsp;</a></span>tries</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t tries = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Counter for tries, if entered data is incorrect, it will increment by 1. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00108">108</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="a532ddf10106a8db0dcc3356428fcf4d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a532ddf10106a8db0dcc3356428fcf4d2">&#9670;&nbsp;</a></span>uid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uid[4]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Card data - used when new card is present and scanned. </p>

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00132">132</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
<a id="aed2a08e1fa3bcb2dd04d19553a1df51c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed2a08e1fa3bcb2dd04d19553a1df51c">&#9670;&nbsp;</a></span>uidLen</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uidLen</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="esp_main_8cpp_source.html#l00132">132</a> of file <a class="el" href="esp_main_8cpp_source.html">espMain.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bf79a0734183d4558a64d79ae6ce3f5a.html">espmain</a></li><li class="navelem"><a class="el" href="esp_main_8cpp.html">espMain.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
